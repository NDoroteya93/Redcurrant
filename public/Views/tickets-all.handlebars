<div id="all-tickets-template">
    <div class="container">
        <div class="row">
            <div class="col-md-10 col-md-offset-1">
                <div class="panel panel-primary panel-table">
                    <div class="panel-heading">
                        <div class="row">
                            <div class="col col-xs-6">
                                <h3 class="panel-title">All Tickets</h3>
                            </div>
                            <div class="col col-xs-6 text-right">
                                <div class="pull-right">
                                    <div class="btn-group" data-toggle="buttons">
                                        <label class="btn btn-success btn-filter active" data-state="2">
                                        <input type="radio" name="options" id="option1" autocomplete="off">
                                        Done
                                    </label>
                                        <label class="btn btn-danger btn-filter" data-state="1">
                                        <input type="radio" name="options" id="option2" autocomplete="off"> In Progress
                                    </label>

                                        <label class="btn btn-warning btn-filter" data-state="0">
                                        <input type="radio" name="options" id="option3" autocomplete="off"> ToDo
                                    </label>

                                        <label class="btn btn-default btn-filter" data-state="all">
                                        <input type="radio" name="options" id="option4" autocomplete="off" checked> All
                                    </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel-body">
                        <table id="mytable" class="table table-striped table-bordered table-list">
                            <thead>
                                <tr>
                                    <th class="col-tools"><span class="glyphicon glyphicon-wrench" aria-hidden="true"></span>
                                    </th>
                                    <th class="hidden-xs">Title</th>
                                    <th class="col-text">Category</th>
                                    <th class="col-text">Author</th>
                                    <th class="col-text">Priority</th>
                                    <th class="col-text">Assignee</th>
                                </tr>
                            </thead>
                            <tbody>
                                {{#each done}}
                                <tr data-status="{{taskState}}" data-id="{{id}}">
                                    <td align="center">
                                        <a class="btn btn-primary btn-xs edit-icon-btn" data-title="Edit" data-toggle="modal" data-placement="top" data-toggle="tooltip"
                                            title="Edit"><span class="glyphicon glyphicon-pencil"></span></a>
                                        <a class="btn btn-danger btn-xs delete-icon-btn" data-title="Delete" data-toggle="modal"><span class="glyphicon glyphicon-trash"></span></a>
                                    </td>
                                    <td class="hidden-xs">{{title}}</td>
                                    <td>{{category}}</td>
                                    <td>{{author}}</td>
                                    <td>{{#enum priority}}{{/enum}}</td>

                                    {{#if assignee}}
                                    <td>{{assignee}}</td>
                                    {{else}}
                                    <td>Unassigned</td>
                                    {{/if}}
                                </tr>
                                {{/each}} {{#each progress}}
                                <tr data-status="{{taskState}}" data-id="{{id}}">
                                    <td align="center">
                                        <a class="btn btn-primary btn-xs edit-icon-btn" data-title="Edit" data-toggle="modal" data-placement="top" data-toggle="tooltip"
                                            title="Edit"><span class="glyphicon glyphicon-pencil"></span></a>
                                        <a class="btn btn-danger btn-xs delete-icon-btn" data-title="Delete" data-toggle="modal"><span class="glyphicon glyphicon-trash"></span></a>
                                    </td>
                                    <td class="hidden-xs">{{title}}</td>
                                    <td>{{category}}</td>
                                    <td>{{author}}</td>
                                    <td>{{#enum priority}}{{/enum}}</td>
                                    
                                    {{#if assignee}}
                                    <td>{{assignee}}</td>
                                    {{else}}
                                    <td>Unassigned</td>
                                    {{/if}}
                                </tr>
                                {{/each}} {{#each todo}}
                                <tr data-status="{{taskState}}" data-id="{{id}}">
                                    <td align="center">
                                        <a class="btn btn-primary btn-xs edit-icon-btn" data-title="Edit" data-toggle="modal" data-placement="top" data-toggle="tooltip"
                                            title="Edit"><span class="glyphicon glyphicon-pencil"></span></a>
                                        <a class="btn btn-danger btn-xs delete-icon-btn" data-title="Delete" data-toggle="modal"><span class="glyphicon glyphicon-trash"></span></a>
                                    </td>
                                    <td class="hidden-xs">{{title}}</td>
                                    <td>{{category}}</td>
                                    <td>{{author}}</td>
                                    <td>{{#enum priority}}{{/enum}}</td>
                                    
                                    {{#if assignee}}
                                    <td>{{assignee}}</td>
                                    {{else}}
                                    <td>Unassigned</td>
                                    {{/if}}
                                </tr>
                                {{/each}}
                            </tbody>
                        </table>

                    </div>
                    <div class="panel-footer">
                        <div class="row">
                            <div class="col col-xs-offset-3 col-xs-6">
                                <nav aria-label="Page navigation" class="text-center">
                                    <ul class="pagination">
                                        <li>
                                            <a href="#" aria-label="Previous">
                                            <span aria-hidden="true">«</span>
                                        </a>
                                        </li>
                                        <li class="active"><a href="#">1</a></li>
                                        <li><a href="#">2</a></li>
                                        <li><a href="#">3</a></li>
                                        <li><a href="#">4</a></li>
                                        <li><a href="#">5</a></li>
                                        <li>
                                            <a href="#" aria-label="Next">
                                            <span aria-hidden="true">»</span>
                                        </a>
                                        </li>
                                    </ul>
                                </nav>
                            </div>
                            <div class="col col-xs-3">
                                <div class="pull-right">
                                    <a href="#/tickets/add/2" class="btn btn-primary">
                                    <span class="glyphicon glyphicon-plus"
                                          aria-hidden="true"></span>
                                    Add Ticket
                                </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="modal fade" id="edit" tabindex="-1" role="dialog" aria-labelledby="edit" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
                    <h4 class="modal-title custom_align" id="Heading">Edit Ticket</h4>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="edit-state">State</label>
                        <select class="form-control" id="user-edit-state">
                            <option selected="selected" data-state="0">To Do</option>
                            <option data-state="1">Progress</option>
                            <option data-state="2">Done</option>
                        </select>
                    </div>

                    <div class="form-group">
                         <label for="edit-assignee">Users</label>
                        <select class="form-control" id="edit-assignee">
                            {{#each users.user}}
                            {{#if @first}}
                            <option selected="selected" data-user={{id}}>{{fullName}}</option>  
                            {{else}}
                            <option data-user={{id}}>{{fullName}}</option>  
                            {{/if}}
                            {{/each}}                          
                        </select>
                    </div>
                </div>
                <div class="modal-footer ">
                    <button type="button" id="update-ticket-btn" class="btn btn-warning btn-lg" style="width: 100%;"><span class="glyphicon glyphicon-ok-sign"></span> Update</button>
                </div>
            </div>
        </div>
    </div>



    <div class="modal fade" id="delete" tabindex="-1" role="dialog" aria-labelledby="edit" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
                    <h4 class="modal-title custom_align" id="Heading">Delete this Ticket</h4>
                </div>
                <div class="modal-body">

                    <div class="alert alert-danger"><span class="glyphicon glyphicon-warning-sign"></span> Are you sure you want to delete this Ticket?</div>

                </div>
                <div class="modal-footer ">
                    <button id="delete-ticket-btn" type="button" class="btn btn-success"><span class="glyphicon glyphicon-ok-sign"></span> Yes</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span> No</button>
                </div>
            </div>

        </div>
    </div>
</div>